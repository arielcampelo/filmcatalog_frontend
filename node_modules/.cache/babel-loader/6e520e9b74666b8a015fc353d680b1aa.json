{"remainingRequest":"D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\xampp\\htdocs\\filmcatalog_frontend\\src\\views\\Films.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\src\\views\\Films.vue","mtime":1636636654813},{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\babel.config.js","mtime":1635704113383},{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636505257160},{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1636505252797},{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636505257160},{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1636505251930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3hhbXBwL2h0ZG9jcy9maWxtY2F0YWxvZ19mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IEZpbG0gZnJvbSAnLi4vc2VydmljZXMvZmlsbXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0ZpbG1zJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsbXM6IHt9LAogICAgICB2YXJfbWRsX3BhcmFtOiAwLAogICAgICB2YXJfbWRsX2Z1bmM6IDEKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMubGlzdGZpbG1zKCk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMyLmxpc3RmaWxtcygpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsaXN0ZmlsbXM6IGZ1bmN0aW9uIGxpc3RmaWxtcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBGaWxtLmxpc3RmaWxtcygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5maWxtcyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIG5leHRwYWdlOiBmdW5jdGlvbiBuZXh0cGFnZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5maWxtc1swXS5tZXRhLm5leHRfcGFnZSA8PSB0aGlzLmZpbG1zWzBdLm1ldGEubGFzdF9wYWdlKSB7CiAgICAgICAgRmlsbS5nb3RvcGFnZSh0aGlzLmZpbG1zWzBdLm1ldGEubmV4dF9wYWdlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNC5maWxtcyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBwcmV2aW91c3BhZ2U6IGZ1bmN0aW9uIHByZXZpb3VzcGFnZSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5maWxtc1swXS5tZXRhLnByZXZpb3VzX3BhZ2UgPiAwKSB7CiAgICAgICAgRmlsbS5nb3RvcGFnZSh0aGlzLmZpbG1zWzBdLm1ldGEucHJldmlvdXNfcGFnZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczUuZmlsbXMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlZmlsbTogZnVuY3Rpb24gcmVtb3ZlZmlsbShpZCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmIChjb25maXJtKCdEbyB5b3UgcmVhbGx5IHdhbnQgdG8gZGVsZXRlIHRoZSBmaWxtPycpKSB7CiAgICAgICAgRmlsbS5kZWxldGVmaWxtKGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNi5saXN0ZmlsbXMoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZWFjdG9yOiBmdW5jdGlvbiByZW1vdmVhY3RvcihpZCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGlmIChjb25maXJtKCdEbyB5b3UgcmVhbGx5IHdhbnQgdG8gZGVsZXRlIHRoZSBhY3Rvcj8nKSkgewogICAgICAgIEZpbG0uZGVsZXRlYWN0b3IoaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM3LnNob3dwYWdlKF90aGlzNy5maWxtc1swXS5tZXRhLmN1cnJlbnRfcGFnZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnb3RvYWRkYWN0b3I6IGZ1bmN0aW9uIGdvdG9hZGRhY3RvcihpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0FkZGNhc3QnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZmlkOiBpZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ290b2VkaXQ6IGZ1bmN0aW9uIGdvdG9lZGl0KGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnRWRpdCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBmaWQ6IGlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzaG93cGFnZTogZnVuY3Rpb24gc2hvd3BhZ2UobikgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIEZpbG0uZ290b3BhZ2UobikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM4LmZpbG1zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:\\xampp\\htdocs\\filmcatalog_frontend\\src\\views\\Films.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div class='container-fluid' v-cloak>\r\n    <!-- Title -->\r\n    <br>\r\n    <h2>Films</h2>\r\n    <!-- Table -->\r\n    <p>\r\n        <br><a class=\"btn btn-primary\" href=\"/new\" role=\"button\">+ Add new film</a>\r\n    </p>\r\n    <hr>\r\n    <table class=\"table\" id=\"films\">\r\n        <thead>\r\n            <tr>\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Title</th>\r\n                <th scope=\"col\">Author</th>\r\n                <th scope=\"col\">Year</th>\r\n                <th scope=\"col\">Grade</th>\r\n                <th scope=\"col\">Cast</th>\r\n                <th scope=\"col\">-</th>\r\n                <th scope=\"col\">-</th>\r\n                <th scope=\"col\">-</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for =\"film of films\" :key=\"film.id\">\r\n                <th scope=\"row\">{{film.id}}</th>\r\n                <td>{{film.title}}</td>\r\n                <td>{{film.author}}</td>\r\n                <td>{{film.year}}</td>\r\n                <td>{{film.grade}}</td>\r\n                <td>\r\n                    <ul v-for= \"actor of film.cast\" :key=\"actor.id\" >\r\n                        <li>{{actor.name}} </li>\r\n                    </ul>\r\n                </td>\r\n                <td> <a href=\"#\" @click=\"gotoaddactor(film.id)\"><img class=\"myicon\" src='images/actor_add.png'>  </a> </td>\r\n                <td> <a href=\"#\" @click=\"gotoedit(film.id)\"><img class=\"myicon\" src='images/edit.png'></a></td>\r\n                <td> <a href=\"#\" @click=\"removefilm(film.id)\"><img class=\"myicon\" src='images/remove.png'>  </a> </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <!-- End Table -->\r\n    <!-- Pagination -->\r\n    <p></p>\r\n    <nav aria-label=\"Page navigation example\">\r\n        <ul class=\"pagination\">\r\n            <li class=\"page-item\"><a class=\"page-link\" href=\"#\" @click=\"previouspage()\">Previous</a></li>\r\n            <li class=\"page-item\" v-if=\"films[0].meta.last_page >= 1\"><a class=\"page-link\" href=\"#\"  @click=\"showpage(1)\">1</a></li>\r\n            <li class=\"page-item\" v-if=\"films[0].meta.last_page >= 2\"><a class=\"page-link\" href=\"#\"  @click=\"showpage(2)\">2</a></li>\r\n            <li class=\"page-item\" v-if=\"films[0].meta.last_page >= 3\"><a class=\"page-link\" href=\"#\"  @click=\"showpage(3)\">3</a></li>\r\n            <li class=\"page-item\" v-if=\"films[0].meta.last_page >= 4\"><a class=\"page-link\" href=\"#\"  @click=\"showpage(4)\">4</a></li>\r\n            <li class=\"page-item\" v-if=\"films[0].meta.last_page >= 5\"><a class=\"page-link\" href=\"#\"  @click=\"showpage(5)\">5</a></li>\r\n            <li class=\"page-item\"><a class=\"page-link\" href=\"#\" @click=\"nextpage()\" >Next</a></li>\r\n            <!-- <li class=\"page-item\"><a class=\"page-link\" href=\"#\">{{films[0].meta.current_page + \"/\" + films[0].meta.last_page}}</a></li> -->\r\n        </ul>\r\n    </nav>\r\n    <!-- End Pagination -->\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Film from '../services/films'\r\n\r\nexport default {\r\n  name: 'Films',\r\n  data () {\r\n    return {\r\n      films: {},\r\n      var_mdl_param: 0,\r\n      var_mdl_func: 1\r\n    }\r\n  },\r\n  async created () {\r\n    this.listfilms()\r\n  },\r\n  async mounted () {\r\n    this.listfilms()\r\n  },\r\n  methods: {\r\n    listfilms () {\r\n      Film.listfilms().then(res => {\r\n        this.films = res.data.data\r\n      })\r\n    },\r\n    nextpage () {\r\n      if (this.films[0].meta.next_page <= this.films[0].meta.last_page) {\r\n        Film.gotopage(this.films[0].meta.next_page).then(res => {\r\n          this.films = res.data.data\r\n        })\r\n      }\r\n    },\r\n    previouspage () {\r\n      if (this.films[0].meta.previous_page > 0) {\r\n        Film.gotopage(this.films[0].meta.previous_page).then(res => {\r\n          this.films = res.data.data\r\n        })\r\n      }\r\n    },\r\n    removefilm (id) {\r\n      if (confirm('Do you really want to delete the film?')) {\r\n        Film.deletefilm(id).then(res => {\r\n          this.listfilms()\r\n        })\r\n      }\r\n    },\r\n    removeactor (id) {\r\n      if (confirm('Do you really want to delete the actor?')) {\r\n        Film.deleteactor(id).then(res => {\r\n          this.showpage(this.films[0].meta.current_page)\r\n        })\r\n      }\r\n    },\r\n    gotoaddactor (id) {\r\n      this.$router.push({ name: 'Addcast', params: { fid: id } })\r\n    },\r\n    gotoedit (id) {\r\n      this.$router.push({ name: 'Edit', params: { fid: id } })\r\n    },\r\n    showpage (n) {\r\n      Film.gotopage(n).then(res => {\r\n        this.films = res.data.data\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n[v-cloak] {\r\n  display: none;\r\n}\r\n  .myicon{\r\n    width: 16px;\r\n    height: 16px;\r\n  }\r\n  .myicon:hover{\r\n   background-color:dimgray;\r\n  }\r\n  .btn#addcast{\r\n    margin-left:10px;\r\n  }\r\n  .table#films{\r\n    max-width: 1200px;\r\n  }\r\n</style>\r\n"],"sourceRoot":""}]}