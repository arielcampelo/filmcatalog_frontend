{"remainingRequest":"D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\xampp\\htdocs\\filmcatalog_frontend\\src\\views\\Films.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\src\\views\\Films.vue","mtime":1635737075925},{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\babel.config.js","mtime":1635704113383},{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xampp\\htdocs\\filmcatalog_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEZpbG0gZnJvbSAnLi4vc2VydmljZXMvZmlsbXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbG1zOiB7fQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIEZpbG0ubGlzdGZpbG1zKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLmZpbG1zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuZGF0YSk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxpc3RmaWxtczogZnVuY3Rpb24gbGlzdGZpbG1zKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIEZpbG0ubGlzdGZpbG1zKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmZpbG1zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgbmV4dHBhZ2U6IGZ1bmN0aW9uIG5leHRwYWdlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmZpbG1zWzBdLm1ldGEubmV4dF9wYWdlIDw9IHRoaXMuZmlsbXNbMF0ubWV0YS5sYXN0X3BhZ2UpIHsKICAgICAgICBGaWxtLmdvdG9wYWdlKHRoaXMuZmlsbXNbMF0ubWV0YS5uZXh0X3BhZ2UpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMzLmZpbG1zID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHByZXZpb3VzcGFnZTogZnVuY3Rpb24gcHJldmlvdXNwYWdlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmZpbG1zWzBdLm1ldGEucHJldmlvdXNfcGFnZSA+IDApIHsKICAgICAgICBGaWxtLmdvdG9wYWdlKHRoaXMuZmlsbXNbMF0ubWV0YS5wcmV2aW91c19wYWdlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNC5maWxtcyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVmaWxtOiBmdW5jdGlvbiByZW1vdmVmaWxtKGlkKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKGNvbmZpcm0oJ0RvIHlvdSByZWFsbHkgd2FudCB0byBkZWxldGUgdGhlIGZpbG0/JykpIHsKICAgICAgICBGaWxtLmRlbGV0ZWZpbG0oaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM1Lmxpc3RmaWxtcygpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlYWN0b3I6IGZ1bmN0aW9uIHJlbW92ZWFjdG9yKGlkKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKGNvbmZpcm0oJ0RvIHlvdSByZWFsbHkgd2FudCB0byBkZWxldGUgdGhlIGFjdG9yPycpKSB7CiAgICAgICAgRmlsbS5kZWxldGVhY3RvcihpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczYuc2hvd3BhZ2UoX3RoaXM2LmZpbG1zWzBdLm1ldGEuY3VycmVudF9wYWdlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNob3dwYWdlOiBmdW5jdGlvbiBzaG93cGFnZShuKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgRmlsbS5nb3RvcGFnZShuKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczcuZmlsbXMgPSByZXMuZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\xampp\\htdocs\\filmcatalog_frontend\\src\\views\\Films.vue"],"names":[],"mappings":"AA2DA,OAAO,IAAP,MAAiB,mBAAjB;AAEA,eAAe;AACb,EAAA,IADa,kBACL;AACN,WAAO;AACL,MAAA,KAAK,EAAE;AADF,KAAP;AAGD,GALY;AAMb,EAAA,OANa,qBAMF;AAAA;;AACT,IAAA,IAAI,CAAC,SAAL,GAAiB,IAAjB,CAAsB,UAAA,GAAE,EAAK;AAC3B,MAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,IAAtB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,IAAJ,CAAS,IAArB;AACD,KAHD;AAID,GAXY;AAYb,EAAA,OAAO,EAAE;AACP,IAAA,SADO,uBACM;AAAA;;AACX,MAAA,IAAI,CAAC,SAAL,GAAiB,IAAjB,CAAsB,UAAA,GAAE,EAAK;AAC3B,QAAA,MAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,IAAtB;AACD,OAFD;AAGD,KALM;AAMP,IAAA,QANO,sBAMK;AAAA;;AACV,UAAI,KAAK,KAAL,CAAW,CAAX,EAAc,IAAd,CAAmB,SAAnB,IAAgC,KAAK,KAAL,CAAW,CAAX,EAAc,IAAd,CAAmB,SAAvD,EAAkE;AAChE,QAAA,IAAI,CAAC,QAAL,CAAc,KAAK,KAAL,CAAW,CAAX,EAAc,IAAd,CAAmB,SAAjC,EAA4C,IAA5C,CAAiD,UAAA,GAAE,EAAK;AACtD,UAAA,MAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,IAAtB;AACD,SAFD;AAGF;AACD,KAZM;AAaP,IAAA,YAbO,0BAaS;AAAA;;AACd,UAAI,KAAK,KAAL,CAAW,CAAX,EAAc,IAAd,CAAmB,aAAnB,GAAmC,CAAvC,EAA0C;AACxC,QAAA,IAAI,CAAC,QAAL,CAAc,KAAK,KAAL,CAAW,CAAX,EAAc,IAAd,CAAmB,aAAjC,EAAgD,IAAhD,CAAqD,UAAA,GAAE,EAAK;AAC1D,UAAA,MAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,IAAtB;AACD,SAFD;AAGF;AACD,KAnBM;AAoBP,IAAA,UApBO,sBAoBK,EApBL,EAoBS;AAAA;;AACd,UAAI,OAAO,CAAC,wCAAD,CAAX,EAAuD;AACrD,QAAA,IAAI,CAAC,UAAL,CAAgB,EAAhB,EAAoB,IAApB,CAAyB,UAAA,GAAE,EAAK;AAC9B,UAAA,MAAI,CAAC,SAAL;AACD,SAFD;AAGF;AACD,KA1BM;AA2BP,IAAA,WA3BO,uBA2BM,EA3BN,EA2BU;AAAA;;AACf,UAAI,OAAO,CAAC,yCAAD,CAAX,EAAwD;AACtD,QAAA,IAAI,CAAC,WAAL,CAAiB,EAAjB,EAAqB,IAArB,CAA0B,UAAA,GAAE,EAAK;AAC/B,UAAA,MAAI,CAAC,QAAL,CAAc,MAAI,CAAC,KAAL,CAAW,CAAX,EAAc,IAAd,CAAmB,YAAjC;AACD,SAFD;AAGF;AACD,KAjCM;AAkCP,IAAA,QAlCO,oBAkCG,CAlCH,EAkCM;AAAA;;AACX,MAAA,IAAI,CAAC,QAAL,CAAc,CAAd,EAAiB,IAAjB,CAAsB,UAAA,GAAE,EAAK;AAC3B,QAAA,MAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,IAAtB;AACD,OAFD;AAGF;AAtCO;AAZI,CAAf","sourcesContent":["<template>\r\n<div class='container-fluid'>\r\n  <!-- Title -->\r\n  <br>\r\n  <h2>Films</h2>\r\n\r\n  <!-- Table -->\r\n  <p><a class=\"btn btn-primary\" href=\"/\" role=\"button\">+ Add new</a></p>\r\n  <table class=\"table\">\r\n  <thead>\r\n    <tr>\r\n      <th scope=\"col\">#</th>\r\n      <th scope=\"col\">Title</th>\r\n      <th scope=\"col\">Author</th>\r\n      <th scope=\"col\">Year</th>\r\n      <th scope=\"col\">Grade</th>\r\n      <th scope=\"col\">Cast</th>\r\n      <th scope=\"col\">-</th>\r\n      <th scope=\"col\">-</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr v-for =\"film of films\" :key=\"film.id\">\r\n      <th scope=\"row\">{{film.id}}</th>\r\n      <td>{{film.title}}</td>\r\n      <td>{{film.author}}</td>\r\n      <td>{{film.year}}</td>\r\n      <td>{{film.grade}}</td>\r\n      <td>\r\n        <ul v-for= \"actor of film.cast\" :key=\"actor.id\" >\r\n            <li>{{actor.name}} <a href=\"#\" @click=\"removeactor(actor.id)\"><img class=\"myicon\" src='images/actor_delete.png'></a></li>\r\n        </ul>\r\n      </td>\r\n      <td> <a href=\"#\" ><img class=\"myicon\" src='images/edit.png'></a></td>\r\n      <td> <a href=\"#\" @click=\"removefilm(film.id)\"><img class=\"myicon\" src='images/remove.png'>  </a> </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n<!-- End Table -->\r\n<!-- Pagination -->\r\n<p></p>\r\n<nav aria-label=\"Page navigation example\">\r\n  <ul class=\"pagination\">\r\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\" @click=\"previouspage()\">Previous</a></li>\r\n     <li class=\"page-item\" v-if=\"films[0].meta.last_page >= 1\"><a class=\"page-link\" href=\"#\"  @click=\"showpage(1)\">1</a></li>\r\n     <li class=\"page-item\" v-if=\"films[0].meta.last_page >= 2\"><a class=\"page-link\" href=\"#\"  @click=\"showpage(2)\">2</a></li>\r\n     <li class=\"page-item\" v-if=\"films[0].meta.last_page >= 3\"><a class=\"page-link\" href=\"#\"  @click=\"showpage(3)\">3</a></li>\r\n     <li class=\"page-item\" v-if=\"films[0].meta.last_page >= 4\"><a class=\"page-link\" href=\"#\"  @click=\"showpage(4)\">4</a></li>\r\n     <li class=\"page-item\" v-if=\"films[0].meta.last_page >= 5\"><a class=\"page-link\" href=\"#\"  @click=\"showpage(5)\">5</a></li>\r\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\" @click=\"nextpage()\" >Next</a></li>\r\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">{{films[0].meta.current_page + \"/\" + films[0].meta.last_page}}</a></li>\r\n  </ul>\r\n</nav>\r\n<!-- End Pagination -->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Film from '../services/films'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      films: {}\r\n    }\r\n  },\r\n  created () {\r\n    Film.listfilms().then(res => {\r\n      this.films = res.data.data\r\n      console.log(res.data.data)\r\n    })\r\n  },\r\n  methods: {\r\n    listfilms () {\r\n      Film.listfilms().then(res => {\r\n        this.films = res.data.data\r\n      })\r\n    },\r\n    nextpage () {\r\n      if (this.films[0].meta.next_page <= this.films[0].meta.last_page) {\r\n        Film.gotopage(this.films[0].meta.next_page).then(res => {\r\n          this.films = res.data.data\r\n        })\r\n      }\r\n    },\r\n    previouspage () {\r\n      if (this.films[0].meta.previous_page > 0) {\r\n        Film.gotopage(this.films[0].meta.previous_page).then(res => {\r\n          this.films = res.data.data\r\n        })\r\n      }\r\n    },\r\n    removefilm (id) {\r\n      if (confirm('Do you really want to delete the film?')) {\r\n        Film.deletefilm(id).then(res => {\r\n          this.listfilms()\r\n        })\r\n      }\r\n    },\r\n    removeactor (id) {\r\n      if (confirm('Do you really want to delete the actor?')) {\r\n        Film.deleteactor(id).then(res => {\r\n          this.showpage(this.films[0].meta.current_page)\r\n        })\r\n      }\r\n    },\r\n    showpage (n) {\r\n      Film.gotopage(n).then(res => {\r\n        this.films = res.data.data\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .myicon{\r\n    width: 16px;\r\n    height: 16px;\r\n  }\r\n  .myicon:hover{\r\n   background-color:dimgray;\r\n  }\r\n</style>\r\n"],"sourceRoot":""}]}